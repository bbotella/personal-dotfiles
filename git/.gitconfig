[user]
    # TODO: Replace with your actual name and email
    name = Your Name
    email = your.email@example.com

[init]
    defaultBranch = main

[core]
    editor = nvim
    autocrlf = input
    excludesfile = ~/.gitignore_global
    # Delta will be used if available, otherwise fall back to diff-so-fancy
    pager = "sh -c 'if command -v delta >/dev/null 2>&1; then delta; elif command -v diff-so-fancy >/dev/null 2>&1; then diff-so-fancy | less --tabs=4 -RFX; else less; fi'"

[pull]
    rebase = true

[push]
    default = simple
    autoSetupRemote = true

[merge]
    tool = nvim
    conflictStyle = diff3

[mergetool "nvim"]
    cmd = nvim -d $LOCAL $REMOTE $MERGED -c '$wincmd w' -c 'wincmd J'

[diff]
    tool = delta

[difftool]
    prompt = false

[rebase]
    autoStash = true

[branch]
    autoSetupRebase = always

[status]
    showUntrackedFiles = all

[commit]
    template = ~/.gitmessage

# =============================================================================
# Delta Configuration (Better Diffs)
# =============================================================================
[delta]
    navigate = true
    light = false
    side-by-side = true
    line-numbers = true
    syntax-theme = Catppuccin-mocha

[interactive]
    diffFilter = delta --color-only --features=interactive

# =============================================================================
# Powerful Git Aliases
# =============================================================================
[alias]
    # === Logging & History ===
    lg = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
    ll = log --pretty=format:"%C(yellow)%h%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --numstat
    lds = log --pretty=format:"%C(yellow)%h\\ %ad%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --date=short
    recent = for-each-ref --sort=-committerdate --format='%(refname:short) - %(committerdate:relative) - %(committername)' refs/heads/
    changelog = log --oneline --no-merges
    
    # === Status & Diff ===
    st = status -sb
    s = status
    d = diff
    dc = diff --cached
    dt = difftool
    dw = diff --word-diff
    
    # === Add & Commit ===
    a = add
    aa = add --all
    ap = add --patch
    c = commit
    cm = commit -m
    ca = commit --amend
    can = commit --amend --no-edit
    
    # === Branch Management ===
    b = branch
    br = branch
    co = checkout
    sw = switch
    cb = checkout -b
    sb = switch -c
    
    # === Stash Operations ===
    sl = stash list
    sa = stash apply
    ss = stash save
    sp = stash pop
    
    # === Remote Operations ===
    f = fetch
    fa = fetch --all
    fo = fetch origin
    p = push
    pf = push --force-with-lease
    pu = push -u origin HEAD
    pl = pull
    
    # === Reset & Undo ===
    unstage = reset HEAD --
    uncommit = reset --soft HEAD~1
    undo = reset --hard HEAD~1
    
    # === Utilities ===
    aliases = config --get-regexp alias
    ignore = "!gi() { curl -sL https://www.toptal.com/developers/gitignore/api/$@ ;}; gi"
    who = shortlog -n -s --no-merges
    
    # === Cleanup ===
    cleanup = "!git branch --merged | grep -v '\\*\\|main\\|master\\|develop' | xargs -n 1 git branch -d"
    prune-all = "!git remote | xargs -n 1 git remote prune"
    
    # === Work-specific (for your Xerador project) ===
    work = "!cd ~/Documents/dev/data-services-control-plane && git status"
    wlog = "!cd ~/Documents/dev/data-services-control-plane && git lg"
    wpush = "!cd ~/Documents/dev/data-services-control-plane && git push"
    wpull = "!cd ~/Documents/dev/data-services-control-plane && git pull"

# =============================================================================
# Conditional Configuration (Personal vs Work)
# =============================================================================
[includeIf "gitdir:~/Documents/dev/"]
    path = ~/.gitconfig-work

[includeIf "gitdir:~/work/"]
    path = ~/.gitconfig-work